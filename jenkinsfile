pipeline {
    agent { 
        node {
            label 'Node1'
        }
    }
    stages {
        stages {
        stage('SCM checkout') {
            steps {
                git "https://github.com/StrakSelby/Pipe-line.git"
            }
        }
        stage('Execute Ansible') {
            steps {
                echo 'Running playbook.......'
                ansiblePlaybook (
                    credentialsId: 'private-key',
                    disableHostKeyChecking: true,
                    installation: 'Ansible',
                    inventory: 'Ansible/inventory.k8s.yml',
                    playbook: 'Ansible/playbook.yml',
                    colorized: true)
            }
        }

        }
    }
}

